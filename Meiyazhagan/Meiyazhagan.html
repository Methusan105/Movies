<!DOCTYPE html>
<html lang="en">
<head>
  <link href="https://vjs.zencdn.net/8.16.1/video-js.css" rel="stylesheet" />
</head>
<body>
  <video
    id="my-video"
    class="video-js"
    controls
    preload="auto"
    width="640"
    height="264"
    poster="MY_VIDEO_POSTER.jpg"
    data-setup="{}"
    autoplay 
  >
    <source id="video-source" src="" type="video/mp4"/>
    <track kind="subtitles" src="https://raw.githubusercontent.com/Methusan105/Movies/main/Meiyazhagan/Meiyazhagan.vtt" srclang="en" label="English" default>
    <p class="vjs-no-js">
      To view this video please enable JavaScript, and consider upgrading to a
      web browser that
      <a href="https://videojs.com/html5-video-support/" target="_blank"
        >supports HTML5 video</a
      >
    </p>
  </video>
  <script>
    const binId = '6mind8jsruso70d8';
    const fileName = 'Meiyazhagan.mp4';

    fetch(`https://filebin.net/${binId}`)
      .then(response => response.json())
      .then(data => {
        const fileInfo = data.files.find(file => file.filename === fileName);
        if (fileInfo) {
          const videoSource = document.getElementById('video-source');
          videoSource.src = `https://filebin.net/${binId}/${fileName}`;
          const video = document.getElementById('my-video');
          video.load(); // Reload the video with the new source
        } else {
          console.error('File not found in the bin');
        }
      })
      .catch(error => console.error('Error fetching file information:', error));

    var video = document.getElementById('my-video');

    video.addEventListener('timeupdate', function() {
      sessionStorage.setItem('videoPlaybackProgress', video.currentTime);
    });

    var savedProgress = sessionStorage.getItem('videoPlaybackProgress');
    if (savedProgress) {
      video.currentTime = parseFloat(savedProgress);
    }
  </script>
  <script src="https://vjs.zencdn.net/8.16.1/video.min.js"></script>
</body>
</html>